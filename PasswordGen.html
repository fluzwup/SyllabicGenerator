<html>
<head>Random password generator</head>
<body>
	<p>This program generates random passwords based on a provided pattern.  The passwords are composed
	of randomly selected short words (W), symbols (_), and digits (n), assembled in the sequence provided.
	The default pattern, WWW_nnn, will provide over 2^45, or 53 trillion possible combinations.  Unlike 
	generators that produce random strings of letters, digits, and symbols in any order, this method 
	produces passwords that are to some degree pronounceable, making them easier to memorize.</p>
	<p>The optional "Entropy seed" field can be used to add extra entropy to the generated random numbers 
	that determine the passwords.  You can put any random data in here, generated by coin flips, rolling
	dice, etc. and it will help make the data more random.  A seed isn't needed, but adds an extra layer
	of security in case there are flaws in the random number generator.</p>
	<table>
		<tr><td>Password pattern:</td><td><input type="string" id="pattern" value="WWW_nnn"></td></tr>
		<tr><td>Entropy seed:</td><td><input type="string" id="seed" value=""></td></tr>
		<tr><td>Number of passwords:</td><td><input type="number" id="number" value="10"></td></tr>
	</table>
	<textarea id="output" rows="15" cols="60">Output will show here.</textarea><br />
	<button type="button" onclick="document.getElementById('output').innerHTML = GeneratePasswords();">Click to run.</button>

	<script>

		function GeneratePasswords()
		{
			// 1115 words taken from 2 and 3 letter Scrabble word list at http://phrontistery.info/scrabble3.html
			// 258 3 letter names taken from https://babynames1000.com/three-letter/
			// merged total of 1240 total choices
			var words = 
			[
				"Aa", "Aah", "Aal", "Aas", "Ab", "Aba", "Abb", "Abe", "Abo", "Abs",
				"Aby", "Ace", "Act", "Acy", "Ad", "Ada", "Add", "Ado", "Ads", "Adz",
				"Ae", "Aff", "Aft", "Ag", "Aga", "Age", "Ago", "Ags", "Ah", "Aha",
				"Ahi", "Ahs", "Ai", "Aid", "Ail", "Aim", "Ain", "Air", "Ais", "Ait",
				"Aja", "Al", "Ala", "Alb", "Ale", "Alf", "Ali", "All", "Alp", "Als",
				"Alt", "Am", "Ama", "Ami", "Amp", "Amu", "Amy", "An", "Ana", "And",
				"Ane", "Ani", "Ann", "Ant", "Any", "Ape", "Apo", "App", "Apt", "Ar",
				"Ara", "Arb", "Arc", "Are", "Arf", "Ari", "Ark", "Arm", "Ars", "Art",
				"As", "Asa", "Ash", "Ask", "Asp", "Ass", "At", "Ate", "Att", "Auk",
				"Ava", "Ave", "Avi", "Avo", "Aw", "Awa", "Awe", "Awl", "Awn", "Ax",
				"Axe", "Axl", "Ay", "Aya", "Aye", "Ays", "Azo", "Ba", "Baa", "Bad",
				"Bag", "Bah", "Bal", "Bam", "Ban", "Bap", "Bar", "Bas", "Bat", "Bay",
				"Be", "Bea", "Bed", "Bee", "Beg", "Bel", "Ben", "Bes", "Bet", "Bev",
				"Bey", "Bi", "Bib", "Bid", "Big", "Bin", "Bio", "Bis", "Bit", "Biz",
				"Bo", "Boa", "Bob", "Bod", "Bog", "Boo", "Bop", "Bos", "Bot", "Bow",
				"Box", "Boy", "Bra", "Bro", "Brr", "Bub", "Bud", "Bug", "Bum", "Bun",
				"Bur", "Bus", "But", "Buy", "By", "Bye", "Bys", "Cab", "Cad", "Cal",
				"Cam", "Can", "Cap", "Car", "Cas", "Cat", "Caw", "Cay", "Cee", "Cel",
				"Cep", "Che", "Chi", "Cig", "Cis", "Cob", "Cod", "Cog", "Col", "Con",
				"Coo", "Cop", "Cor", "Cos", "Cot", "Cow", "Cox", "Coy", "Coz", "Cru",
				"Cry", "Cub", "Cud", "Cue", "Cum", "Cup", "Cur", "Cut", "Cwm", "Dab",
				"Dad", "Dag", "Dah", "Dak", "Dal", "Dam", "Dan", "Dap", "Daw", "Dax",
				"Day", "De", "Deb", "Dee", "Def", "Del", "Den", "Dev", "Dew", "Dex",
				"Dey", "Dib", "Did", "Die", "Dif", "Dig", "Dim", "Din", "Dip", "Dis",
				"Dit", "Do", "Doc", "Doe", "Dog", "Dol", "Dom", "Don", "Dor", "Dos",
				"Dot", "Dow", "Dry", "Dub", "Dud", "Due", "Dug", "Duh", "Dui", "Dun",
				"Duo", "Dup", "Dye", "Ean", "Ear", "Eat", "Eau", "Ebb", "Ecu", "Ed",
				"Eda", "Edd", "Edh", "Eds", "Edw", "Eek", "Eel", "Ef", "Eff", "Efs",
				"Eft", "Egg", "Ego", "Eh", "Eke", "El", "Ela", "Eld", "Elf", "Eli",
				"Elk", "Ell", "Elm", "Els", "Ely", "Em", "Ema", "Eme", "Ems", "Emu",
				"En", "Ena", "End", "Eng", "Ens", "Eon", "Er", "Era", "Ere", "Erg",
				"Ern", "Err", "Ers", "Es", "Ess", "Et", "Eta", "Eth", "Eva", "Eve",
				"Ewe", "Ex", "Exa", "Eye", "Fa", "Fab", "Fad", "Fae", "Fag", "Fan",
				"Far", "Fas", "Fat", "Fax", "Fay", "Fe", "Fed", "Fee", "Feh", "Fem",
				"Fen", "Fer", "Fes", "Fet", "Feu", "Few", "Fey", "Fez", "Fib", "Fid",
				"Fie", "Fig", "Fil", "Fin", "Fir", "Fit", "Fix", "Fiz", "Flo", "Flu",
				"Fly", "Fob", "Foe", "Fog", "Foh", "Fon", "Fop", "For", "Fou", "Fox",
				"Foy", "Fro", "Fry", "Fub", "Fud", "Fug", "Fun", "Fur", "Gab", "Gad",
				"Gae", "Gag", "Gal", "Gam", "Gan", "Gap", "Gar", "Gas", "Gat", "Gay",
				"Ged", "Gee", "Gel", "Gem", "Gen", "Geo", "Get", "Gey", "Ghi", "Gia",
				"Gib", "Gid", "Gie", "Gig", "Gil", "Gin", "Gip", "Git", "Gnu", "Go",
				"Goa", "Gob", "God", "Goo", "Gor", "Gos", "Got", "Gox", "Goy", "Gul",
				"Gum", "Gun", "Gus", "Gut", "Guv", "Guy", "Gym", "Gyp", "Ha", "Had",
				"Hae", "Hag", "Hah", "Haj", "Hal", "Ham", "Hao", "Hap", "Has", "Hat",
				"Haw", "Hay", "He", "Heh", "Hem", "Hen", "Hep", "Her", "Hes", "Het",
				"Hew", "Hex", "Hey", "Hi", "Hic", "Hid", "Hie", "Him", "Hin", "Hip",
				"His", "Hit", "Hm", "Hmm", "Ho", "Hob", "Hod", "Hoe", "Hog", "Hon",
				"Hop", "Hos", "Hot", "How", "Hoy", "Hub", "Hue", "Hug", "Huh", "Hum",
				"Hun", "Hup", "Hut", "Huy", "Hyp", "Ian", "Ica", "Ice", "Ich", "Ick",
				"Icy", "Id", "Ida", "Ids", "If", "Iff", "Ifs", "Igg", "Ike", "Ila",
				"Ilk", "Ill", "Ilo", "Ima", "Imo", "Imp", "In", "Ina", "Ink", "Inn",
				"Ins", "Ion", "Ira", "Ire", "Irk", "Irl", "Is", "Isa", "Ism", "It",
				"Its", "Iva", "Ivy", "Iza", "Jab", "Jad", "Jag", "Jam", "Jan", "Jar",
				"Jaw", "Jax", "Jay", "Jeb", "Jed", "Jee", "Jep", "Jet", "Jeu", "Jew",
				"Jib", "Jig", "Jim", "Jin", "Jo", "Job", "Joe", "Jog", "Joi", "Jon",
				"Jot", "Jow", "Joy", "Jug", "Jun", "Jus", "Jut", "Ka", "Kab", "Kae",
				"Kaf", "Kai", "Kas", "Kat", "Kay", "Kea", "Kef", "Keg", "Kem", "Ken",
				"Kep", "Kex", "Key", "Khi", "Ki", "Kia", "Kid", "Kif", "Kim", "Kin",
				"Kip", "Kir", "Kis", "Kit", "Koa", "Kob", "Koi", "Kop", "Kor", "Kos",
				"Kue", "Kya", "Kye", "La", "Lab", "Lac", "Lad", "Lag", "Lam", "Lap",
				"Lar", "Las", "Lat", "Lav", "Law", "Lax", "Lay", "Lea", "Led", "Lee",
				"Leg", "Lei", "Lek", "Lem", "Len", "Leo", "Les", "Let", "Leu", "Lev",
				"Lew", "Lex", "Ley", "Lez", "Li", "Lia", "Lib", "Lid", "Lie", "Lim",
				"Lin", "Lip", "Lis", "Lit", "Liv", "Liz", "Lo", "Lob", "Log", "Lon",
				"Loo", "Lop", "Lot", "Lou", "Low", "Lox", "Loy", "Luc", "Lue", "Lug",
				"Lum", "Luv", "Lux", "Luz", "Lye", "Lyn", "Ma", "Mac", "Mad", "Mae",
				"Mag", "Mai", "Mal", "Man", "Map", "Mar", "Mas", "Mat", "Maw", "Max",
				"May", "Me", "Med", "Meg", "Mel", "Mem", "Men", "Met", "Mew", "Mho",
				"Mi", "Mia", "Mib", "Mic", "Mid", "Mig", "Mil", "Mim", "Mir", "Mis",
				"Mix", "Mm", "Mo", "Moa", "Mob", "Moc", "Mod", "Moe", "Mog", "Mol",
				"Mom", "Mon", "Moo", "Mop", "Mor", "Mos", "Mot", "Mow", "Mu", "Mud",
				"Mug", "Mum", "Mun", "Mus", "Mut", "My", "Mya", "Myc", "Na", "Nab",
				"Nae", "Nag", "Nah", "Nam", "Nan", "Nap", "Nat", "Naw", "Nay", "Ne",
				"Neb", "Ned", "Nee", "Neg", "Net", "New", "Nia", "Nib", "Nil", "Nim",
				"Nip", "Nit", "Nix", "No", "Noa", "Nob", "Nod", "Noe", "Nog", "Noh",
				"Nom", "Noo", "Nor", "Nos", "Not", "Now", "Nth", "Nu", "Nub", "Nun",
				"Nus", "Nut", "Nya", "Oaf", "Oak", "Oar", "Oat", "Oba", "Obe", "Obi",
				"Oca", "Od", "Oda", "Odd", "Ode", "Ods", "Oe", "Oes", "Of", "Off",
				"Oft", "Oh", "Ohm", "Oho", "Ohs", "Oi", "Oil", "Oka", "Oke", "Ola",
				"Old", "Ole", "Om", "Oma", "Oms", "On", "Ona", "One", "Ono", "Ons",
				"Ooh", "Oot", "Op", "Ope", "Ops", "Opt", "Or", "Ora", "Orb", "Orc",
				"Ore", "Ors", "Ort", "Os", "Osa", "Ose", "Ota", "Ott", "Oud", "Our",
				"Out", "Ova", "Ow", "Owe", "Owl", "Own", "Ox", "Oxo", "Oxy", "Oy",
				"Pa", "Pac", "Pad", "Pah", "Pal", "Pam", "Pan", "Pap", "Par", "Pas",
				"Pat", "Paw", "Pax", "Pay", "Pe", "Pea", "Pec", "Ped", "Pee", "Peg",
				"Peh", "Pen", "Pep", "Per", "Pes", "Pet", "Pew", "Phi", "Pht", "Pi",
				"Pia", "Pic", "Pie", "Pig", "Pin", "Pip", "Pis", "Pit", "Piu", "Pix",
				"Ply", "Pod", "Poh", "Poi", "Pol", "Pom", "Poo", "Pop", "Pot", "Pow",
				"Pox", "Pro", "Pry", "Psi", "Pst", "Pub", "Pud", "Pug", "Pul", "Pun",
				"Pup", "Pur", "Pus", "Put", "Pya", "Pye", "Pyx", "Qat", "Qi", "Qis",
				"Qua", "Rad", "Rae", "Rag", "Rah", "Rai", "Raj", "Ram", "Ran", "Rap",
				"Ras", "Rat", "Raw", "Rax", "Ray", "Re", "Reb", "Rec", "Red", "Ree",
				"Ref", "Reg", "Rei", "Rem", "Rep", "Res", "Ret", "Rev", "Rex", "Rey",
				"Rho", "Ria", "Rib", "Rid", "Rif", "Rig", "Rim", "Rin", "Rip", "Rob",
				"Roc", "Rod", "Roe", "Rom", "Ron", "Rot", "Row", "Roy", "Rub", "Rue",
				"Rug", "Rum", "Run", "Rut", "Rya", "Rye", "Sab", "Sac", "Sad", "Sae",
				"Sag", "Sal", "Sam", "Sap", "Sat", "Sau", "Saw", "Sax", "Say", "Sea",
				"Sec", "See", "Seg", "Sei", "Sel", "Sen", "Ser", "Set", "Sew", "Sex",
				"Sh", "Sha", "She", "Shh", "Shy", "Si", "Sib", "Sic", "Sid", "Sie",
				"Sim", "Sin", "Sip", "Sir", "Sis", "Sit", "Six", "Ska", "Ski", "Sky",
				"Sly", "So", "Sob", "Sod", "Sol", "Som", "Son", "Sop", "Sos", "Sot",
				"Sou", "Sow", "Sox", "Soy", "Spa", "Spy", "Sri", "Sty", "Sub", "Sue",
				"Suk", "Sum", "Sun", "Sup", "Suq", "Syn", "Ta", "Tab", "Tad", "Tae",
				"Tag", "Tai", "Taj", "Tal", "Tam", "Tan", "Tao", "Tap", "Tar", "Tas",
				"Tat", "Tau", "Tav", "Taw", "Tax", "Tea", "Ted", "Tee", "Teg", "Tel",
				"Ten", "Tet", "Tew", "Tex", "The", "Tho", "Thy", "Ti", "Tia", "Tic",
				"Tie", "Til", "Tim", "Tin", "Tip", "Tis", "Tit", "To", "Tod", "Toe",
				"Tog", "Tom", "Ton", "Too", "Top", "Tor", "Tot", "Tow", "Toy", "Tre",
				"Tru", "Try", "Tsk", "Tub", "Tug", "Tui", "Tun", "Tup", "Tut", "Tux",
				"Twa", "Two", "Tye", "Udo", "Ugh", "Uh", "Uke", "Ula", "Ulu", "Um",
				"Umm", "Ump", "Un", "Una", "Uns", "Up", "Upo", "Ups", "Ura", "Urb",
				"Urd", "Urn", "Urp", "Us", "Use", "Ut", "Uta", "Ute", "Uts", "Vac",
				"Val", "Van", "Var", "Vas", "Vat", "Vau", "Vav", "Vaw", "Vee", "Veg",
				"Vet", "Vex", "Via", "Vic", "Vid", "Vie", "Vig", "Vim", "Vis", "Voe",
				"Von", "Vow", "Vox", "Vug", "Vum", "Wab", "Wad", "Wae", "Wag", "Wan",
				"Wap", "War", "Was", "Wat", "Waw", "Wax", "Way", "We", "Web", "Wed",
				"Wee", "Wen", "Wes", "Wet", "Wha", "Who", "Why", "Wig", "Win", "Wis",
				"Wit", "Wiz", "Wo", "Woe", "Wog", "Wok", "Won", "Woo", "Wop", "Wos",
				"Wot", "Wow", "Wry", "Wud", "Wye", "Wyn", "Xi", "Xis", "Xu", "Ya",
				"Yag", "Yah", "Yak", "Yam", "Yap", "Yar", "Yaw", "Yay", "Ye", "Yea",
				"Yee", "Yeh", "Yen", "Yep", "Yes", "Yet", "Yew", "Yid", "Yin", "Yip",
				"Yo", "Yob", "Yod", "Yok", "Yom", "Yon", "You", "Yow", "Yuk", "Yum",
				"Yup", "Za", "Zag", "Zap", "Zas", "Zax", "Zeb", "Zed", "Zee", "Zek",
				"Zep", "Zev", "Zig", "Zin", "Zip", "Zit", "Zoa", "Zoe", "Zoo", "Zuz"
			];

			// avoid backslash and various quotes, as they're prone to cause problems
			var symbols = 
			[
				"!", "@", "#", "$", "%", "^", "&", "*", "(", ")", "_", "-", "+", "=", 
				"{", "[", "}", "]", "|", ":", ";", "?", "/", "~", ".", ",", "<", ">"
			];

			var offset = 0;  // we'll fill this out, and add a permutation to the output of Math.random()
			var count;
			var passwordList = "";
			var wordCount = words.length;
			var symbolCount = symbols.length;
			var pattern = document.getElementById("pattern").value;
			var seed = document.getElementById("seed").value;

			// sum up character values of seed; since we want a value between 0 and 1, 
			// divide values by 256 and chop the integer portion off at the end
			for(j = 0; j < seed.length; ++j)
			{
				offset += (seed.charCodeAt(j) / 256);
			}
			offset -= Math.floor(offset); 
			// before each use, add Math.random() and then cut off the integer component

			for(j = 0; j < document.getElementById("number").value; j++) 
			{
				// reset count, so only a single pass is counted
				count = 1;
				for(i = 0; i < pattern.length; ++i)
				{
					switch(pattern[i])
					{
						case 'W':
							offset += Math.random();
							offset -= Math.floor(offset);
							token = words[Math.floor(offset * wordCount)];
							passwordList += token;
							count *= wordCount;
							break;
						case '_':
							offset += Math.random();
							offset -= Math.floor(offset);
							token = symbols[Math.floor(offset * symbolCount)];
							passwordList += token;
							count *= symbolCount;
							break;
						case 'n':
							offset += Math.random();
							offset -= Math.floor(offset);
							passwordList += Math.floor(offset * 10);
							count *= 10;
							break;
					}
				}
				passwordList += "\n";
			}
			// log2(e) = 1.44
			passwordList += "Passwords contain a minimum of " + 
				Math.floor(Math.log(count) * 1.44) + " bits of entropy.\n";

			return passwordList;
		}
	
	</script>
</body>
</html>

